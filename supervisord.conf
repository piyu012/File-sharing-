[supervisord]
nodaemon=true
logfile=/app/logs/supervisord.log
logfile_maxbytes=50MB
logfile_backups=3
loglevel=info
pidfile=/tmp/supervisord.pid

[program:api]
command=python3 -m uvicorn ad_api:app --host 0.0.0.0 --port %(ENV_PORT)s
directory=/app
autostart=true
autorestart=true
stdout_logfile=/app/logs/api.log
stderr_logfile=/app/logs/api_err.log
environment=PORT="%(ENV_PORT)s"
user=root

[program:bot]
command=python3 -u bot_runner.py
directory=/app
autostart=true
autorestart=true
stdout_logfile=/app/logs/bot.log
stderr_logfile=/app/logs/bot_err.log
user=root
